<!-- {% assign current_variant = product.selected_or_first_available_variant %} -->
<!-- {% assign featured_image = current_variant.featured_image | default: product.featured_image %} -->
<!-- <img src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}" id="ProductPhotoImg">  -->

<!-- eventuell auch mit scrollmagic arbeiten, sectionon soll  -->

  <div class="product-bg">
    <div class="product-content">
      <h1 class="product-title"> {{ product.title }} </h1>
      <h4 class="product-price"> {{ product.price | money }} </h4>
      <div class="product-description"> {{ product.description }} </div>
    </div>

    <div class="seperator"></div>

    <div class="image-selection-container">
      {% for image in product.images %}
        {% assign imageSrcSmall = image | img_url: '100x' %}
        {% assign imageSrcLarge = image | img_url: "large" %}
        <div class="image-selection-selector" style="background-image: url('{{ imageSrcSmall }}')" data-bgurl="{{ imageSrcLarge }}" ></div>
      {% endfor %}
    </div>





    <!-- TODO: 	s. CHEST TO FIT via metatags1!!! -->

    <!-- https://shopify.dev/docs/themes/theme-templates/product-liquid: product variant muss beim submit übergeben werden, quantity = optional  -->
    <!-- url .../car/add?id=999999999 == post form request = url wird von shopify backend abgefangen und fügt dann den entsprechenden artikel/variante mit der id zur cart -->

    <!-- ALTERNATIV ZU FORM TAG: MANUELL <form action="/cart/add" method="post" accept-charset="UTF-8"> -->
    <!-- WICHTIG: name & value-ATTRIBUTES (s.option-tag) müssen mit liquid docs übereinstimmen, damit sie auch via querystring dem shopify endpoint erfolgreich übergeben werden können -->
    <!-- TODO: eventuell eher mit ajax calls arbeiten, da man mit foms sofort zur cart redirected wird -->
    {% form "product", product %}

    <!-- TODO: check if product/variant is in stock!! für produkte die keine varianten haben -->
    {% if product.variants.size > 1 %}
      <div class="variantContainer">
        <label for="productSelect">Size: </label>
        <div class="select-wrapper">
          <select name="id" class="productSelect" id="productSelect">
              {% for variant in product.variants %}
                <option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} value="{{ variant.id }}">
                  {{ variant.title }}
                </option>
              {% endfor %}    
          </select>
        </div>
      </div>
    {% endif %}

      <div class="quantityContainer">
        <label for="quantitySelect">Quantity: </label>
        <div class="quantitySelectContainer">
          <button type="button" class="incrementProductQuantity">+</button>
          <input id="quantitySelect" type="number" name="quantity" value="1" min="1" max="5">
          <button type="button" class="decrementProductQuantity">-</button>
        </div>
      </div>
      
      <input type="submit" value="Add to chart">
    {% endform %}
  </div>





  <!-- TODO: METATAGS für measurement values (für xs, small xl etc) wie einzelne größen ausfallen brustunmfang etc  -->
  <!-- ACHTUNG: zb cap und trinkflsche haben natürlch keine measurments.-tabelle -->



<style>
  .select-wrapper::after {
    content: "";
    background-image: url("{{ 'chevron-down-outline.svg' | asset_url }}");
    height: 20px;
    width: 20px;
    top: 8px;
    right: 8px;
    position: absolute;
    pointer-events: none;
  }
</style>



<script>
  const target = document.querySelector(".brand-name")
  const targetRect = target.getBoundingClientRect()
      const tagretY = targetRect.y
      console.log("targetHeight: ", targetRect);
</script>
